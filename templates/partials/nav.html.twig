<nav>
    <ul>
        <li>
            <a href="{{ path('default_home') }}" class="{{ app.request.attributes.get('_route') == 'default_home' ? 'active' : '' }}">
                Événements
            </a>
        </li>
        <li>
            <a href="{{ path('calendar_index') }}" class="{{ app.request.attributes.get('_route') starts with 'calendar_' ? 'active' : '' }}">
                Calendrier
            </a>
        </li>

        {% if app.user %}
            <li>
                <a href="{{ path('default_my_registrations') }}" class="{{ app.request.attributes.get('_route') == 'default_my_registrations' ? 'active' : '' }}">
                    Mes inscriptions
                </a>
            </li>
        {% endif %}

        {% if is_granted('ROLE_ADMIN') %}
            <li>
                <a href="{{ path('admin_dashboard') }}" class="{{ app.request.attributes.get('_route') starts with 'admin_' ? 'active' : '' }}">
                    Admin
                </a>
            </li>
        {% endif %}

        {% if app.user %}
            <li class="user-info">
                <svg class="user-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
                </svg>
                <span class="user-name">
                    {{ app.user.firstName }} {{ app.user.lastName }}
                    {% if is_granted('ROLE_ADMIN') %}
                        <span class="admin-badge">(Admin)</span>
                    {% endif %}
                </span>
                <a href="{{ path('default_logout') }}" class="btn btn-secondary">
                    Déconnexion
                </a>
            </li>
        {% else %}
            <li>
                <a href="{{ path('default_login') }}" class="btn btn-primary">
                    Connexion
                </a>
            </li>
            <li>
                <a href="{{ path('default_register') }}" class="btn btn-outline-primary">
                    S'inscrire
                </a>
            </li>
        {% endif %}
    </ul>
</nav>
